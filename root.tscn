[gd_scene load_steps=10 format=3 uid="uid://7c4yqvx4iwdd"]

[ext_resource type="Material" uid="uid://bdqaf500ow851" path="res://rose.tres" id="1_28aoi"]
[ext_resource type="Script" uid="uid://b5k61kq0snww4" path="res://spin_box.gd" id="1_jnlp7"]
[ext_resource type="Script" uid="uid://ba51paaxeoasy" path="res://camera_3d.gd" id="1_vvh5c"]
[ext_resource type="PackedScene" uid="uid://cnlfse6lt86dd" path="res://spider.tscn" id="2_pyidc"]

[sub_resource type="BoxMesh" id="BoxMesh_vho56"]
flip_faces = true
size = Vector3(16, 4, 16)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_pyidc"]
data = PackedVector3Array(8, 2, 8, -8, 2, 8, -8, -2, 8, 8, -2, 8, 8, 2, 8, -8, -2, 8, -8, 2, -8, 8, 2, -8, 8, -2, -8, -8, -2, -8, -8, 2, -8, 8, -2, -8, 8, 2, -8, 8, 2, 8, 8, -2, 8, 8, -2, -8, 8, 2, -8, 8, -2, 8, -8, 2, 8, -8, 2, -8, -8, -2, -8, -8, -2, 8, -8, 2, 8, -8, -2, -8, -8, 2, 8, 8, 2, 8, 8, 2, -8, -8, 2, -8, -8, 2, 8, 8, 2, -8, 8, -2, 8, -8, -2, 8, -8, -2, -8, 8, -2, -8, 8, -2, 8, -8, -2, -8)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vvh5c"]
render_priority = 1
transparency = 1
shading_mode = 0
albedo_color = Color(0, 0, 0, 1)
grow = true
grow_amount = 0.095
stencil_mode = 3
stencil_flags = 1
stencil_compare = 5
metadata/_stencil_owned = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_pyidc"]
next_pass = SubResource("StandardMaterial3D_vvh5c")
albedo_color = Color(0.85, 0.47373337, 0.14450002, 1)
rim_enabled = true
rim = 0.08
stencil_mode = 1
stencil_flags = 2
stencil_outline_thickness = 0.095

[sub_resource type="Environment" id="Environment_vvh5c"]
ambient_light_source = 2
ambient_light_color = Color(0.19783562, 0.12838304, 0.10896135, 1)
glow_enabled = true
glow_intensity = 3.58
glow_strength = 1.22
fog_enabled = true
fog_light_color = Color(0.68655497, 0.5058219, 0.37928328, 1)
fog_light_energy = 0.19
fog_sun_scatter = 0.05
fog_density = 0.0294
volumetric_fog_albedo = Color(0.4665935, 0.2561491, 0.3458556, 1)
volumetric_fog_emission = Color(0.20871013, 0.20871016, 0.20871013, 1)
adjustment_enabled = true
adjustment_contrast = 0.93
adjustment_saturation = 1.2

[node name="Control" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="MarginContainer" type="MarginContainer" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_constants/margin_left = 20
theme_override_constants/margin_top = 20
theme_override_constants/margin_right = 20
theme_override_constants/margin_bottom = 20

[node name="SpinBox" type="SpinBox" parent="MarginContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 0
min_value = 3.0
max_value = 9.0
value = 4.0
alignment = 2
script = ExtResource("1_jnlp7")
spider_bot_path = NodePath("../../root/spider")

[node name="Label" type="Label" parent="MarginContainer"]
layout_mode = 2
size_flags_horizontal = 8
size_flags_vertical = 8
vertical_alignment = 2

[node name="root" type="Node3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="root"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
cast_shadow = 0
mesh = SubResource("BoxMesh_vho56")
surface_material_override/0 = ExtResource("1_28aoi")

[node name="StaticBody3D" type="StaticBody3D" parent="root/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="root/MeshInstance3D/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_pyidc")

[node name="Camera3D" type="Camera3D" parent="root"]
transform = Transform3D(-0.674921, -0.17907272, 0.7158314, 0, 0.9701059, 0.24268213, -0.73789, 0.16379127, -0.6547448, 4.716406, -0.0223442, -4.6286993)
current = true
fov = 90.0
far = 100.0
script = ExtResource("1_vvh5c")
look_target = NodePath("../spider")
label_path = NodePath("../../MarginContainer/Label")

[node name="OmniLight3D" type="OmniLight3D" parent="root"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8065853, 0)
light_color = Color(0.53615105, 0.38953638, 0.3212983, 1)
light_energy = 10.0
light_indirect_energy = 3.0
shadow_enabled = true
shadow_opacity = 0.2
distance_fade_enabled = true
omni_range = 10.36484

[node name="spider" parent="root" instance=ExtResource("2_pyidc")]
transform = Transform3D(0.020296805, 0, 0.999794, 0, 1, 0, -0.999794, 0, 0.020296805, 5.1615314, -0.7, -1.0278873)

[node name="Label3D" type="Label3D" parent="root/spider"]
visible = false
billboard = 2
no_depth_test = true

[node name="CSGSphere3D" type="CSGSphere3D" parent="root"]
transform = Transform3D(1, 0, 0, 0, 0.7, 0, 0, 0, 1, 0, -1.6651945, 0)
use_collision = true
radius = 3.5
rings = 12
material = SubResource("StandardMaterial3D_pyidc")

[node name="WorldEnvironment" type="WorldEnvironment" parent="root"]
environment = SubResource("Environment_vvh5c")
